<%- include("../partials/head", { title }) %>

<section class="ig-auth-shell">
  <div class="ig-auth-card">
    <h1>Set New Password</h1>
    <p>Your OTP is verified. Create a secure new password.</p>

    <form action="/reset-password" method="POST" class="ig-auth-form" novalidate>
      <label for="password">New Password</label>
      <div class="password-wrap">
        <input
          id="password"
          name="password"
          type="password"
          minlength="6"
          autocomplete="new-password"
          required
          placeholder="At least 6 characters"
        />
        <button type="button" class="toggle-btn" data-target="password" aria-label="Toggle password visibility">Show</button>
      </div>

      <label for="confirmPassword">Confirm Password</label>
      <div class="password-wrap">
        <input
          id="confirmPassword"
          name="confirmPassword"
          type="password"
          minlength="6"
          autocomplete="new-password"
          required
          placeholder="Re-enter new password"
        />
        <button type="button" class="toggle-btn" data-target="confirmPassword" aria-label="Toggle password visibility">Show</button>
      </div>

      <button type="submit" class="ig-auth-btn">Reset Password</button>
    </form>
  </div>
</section>

<style>
.ig-auth-shell {
  min-height: calc(100vh - 120px);
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 24px 16px;
  background: radial-gradient(circle at top, #f2f2f2 0%, #ffffff 60%);
}

.ig-auth-card {
  width: 100%;
  max-width: 430px;
  background: #ffffff;
  border: 1px solid #dbdbdb;
  border-radius: 18px;
  padding: 28px 24px;
  box-shadow: 0 14px 30px rgba(0, 0, 0, 0.08);
}

.ig-auth-card h1 {
  margin: 0;
  font-size: 1.65rem;
  text-align: center;
  color: #111111;
}

.ig-auth-card p {
  margin: 8px 0 20px;
  text-align: center;
  color: #666666;
}

.ig-auth-form {
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.ig-auth-form label {
  font-size: 0.9rem;
  color: #222222;
  font-weight: 600;
}

.password-wrap {
  position: relative;
  display: flex;
  align-items: center;
}

.password-wrap input {
  width: 100%;
  height: 46px;
  border: 1px solid #cfcfcf;
  border-radius: 12px;
  padding: 0 64px 0 14px;
  font-size: 1rem;
  outline: none;
}

.password-wrap input:focus {
  border-color: #111111;
  box-shadow: 0 0 0 2px rgba(0, 0, 0, 0.08);
}

.toggle-btn {
  position: absolute;
  right: 10px;
  border: 0;
  background: transparent;
  color: #111111;
  font-size: 0.82rem;
  font-weight: 700;
  cursor: pointer;
}

.ig-auth-btn {
  margin-top: 6px;
  height: 46px;
  border: 0;
  border-radius: 999px;
  background: #111111;
  color: #ffffff;
  font-weight: 700;
  cursor: pointer;
}

.ig-auth-btn:hover {
  background: #000000;
}

@media (max-width: 480px) {
  .ig-auth-card {
    padding: 22px 16px;
    border-radius: 14px;
  }
}
</style>

<script>
document.querySelectorAll(".toggle-btn").forEach((btn) => {
  btn.addEventListener("click", () => {
    const targetId = btn.getAttribute("data-target");
    const input = document.getElementById(targetId);
    if (!input) return;
    const show = input.type === "password";
    input.type = show ? "text" : "password";
    btn.textContent = show ? "Hide" : "Show";
  });
});
</script>

<%- include("../partials/footer") %>
