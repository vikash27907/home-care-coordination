<%- include("../partials/head", { title }) %>

<section class="form-section narrow">
  <h1>Login</h1>
  <p>Secure access for approved admin, agent, and nurse accounts of Prisha Home Care.</p>
  <form method="POST" action="/login" class="form-grid" id="loginForm">
    <label>
      Email or Phone Number <span class="required-indicator" title="Required"></span>
      <input name="identifier" type="text" required />
    </label>
    <label>
      Password <span class="required-indicator" title="Required"></span>
      <div class="password-input-wrapper">
        <input name="password" type="password" id="passwordInput" required />
        <button type="button" class="password-toggle" onclick="togglePassword()" aria-label="Toggle password visibility">
          <span id="eyeIcon">ğŸ‘ï¸</span>
        </button>
      </div>
    </label>
    <button type="submit" class="btn primary full-width">Login</button>
  </form>
  <div class="form-footer-links">
    <a href="/forgot-password" class="forgot-password-link">Forgot Password?</a>
  </div>
</section>

<style>
.password-input-wrapper {
  position: relative;
  display: flex;
  align-items: center;
}
.password-input-wrapper input {
  flex: 1;
  padding-right: 40px;
}
.password-toggle {
  position: absolute;
  right: 10px;
  background: none;
  border: none;
  cursor: pointer;
  font-size: 1.1rem;
  padding: 4px;
  color: #666;
}
.password-toggle:hover {
  color: #333;
}
</style>

<script>
function togglePassword() {
  const passwordInput = document.getElementById('passwordInput');
  const eyeIcon = document.getElementById('eyeIcon');
  if (passwordInput.type === 'password') {
    passwordInput.type = 'text';
    eyeIcon.textContent = 'ğŸ™ˆ';
  } else {
    passwordInput.type = 'password';
    eyeIcon.textContent = 'ğŸ‘ï¸';
  }
}
</script>

<%- include("../partials/footer") %>
